# GuideTransport
Справочник движения транспорта по остановкам. 
Задание 1

Транспортный справочник.
Это система хранения транспортных маршрутов и обработки запросов к ней.

Сначала на вход подаются запросы на создание базы данных, затем — запросы к самой базе.
В первой строке стандартного потока ввода содержится число N — количество запросов на обновление базы данных, 
затем — по одному на строке — вводятся сами запросы. 

Запросы бывают двух типов. Stop X: latitude, longitude Добавляет информацию об остановке с названием X и координатами latitude (широта) и longitude (долгота) на земной поверхности. Название остановки может состоять из нескольких слов. Используйте двоеточие как признак окончания названия остановки. Широта задаётся в градусах от -90.0 (южный полюс) до +90.0 (северный полюс). Положительные широты расположены севернее экватора, отрицательные — южнее. Долгота задаётся в градусах от -180.0 до +180.0, положительные значения соответствуют восточной долготе, а отрицательные — западной. Нулевой меридиан проходит через Гринвичскую королевскую обсерваторию в Лондоне, а координаты останкинской телевышки равны 55.8199081 северной широты и 37.6116028 восточной долготы. Широта и долгота разделяются запятой, за которой следует пробел.
Гарантируется, что остановка X определена не более чем в одном запросе Stop.


Пример объявления остановки:
Stop Biryulyovo Zapadnoye: 55.574371, 37.651700 
Bus X: описание маршрута
Запрос на добавление автобусного маршрута X. Название маршрута может состоять из нескольких слов и отделяется от описания символом двоеточия. Описание маршрута может задаваться в одном из двух форматов (см. пример):
stop1 - stop2 - ... stopN: автобус следует от stop1 до stopN и обратно с указанными промежуточными остановками.
image

Маршрут, заданный остановками A, B, C, D. Автобус проходит через остановки: A, B, C, D, C, B, A
stop1 > stop2 > ... > stopN > stop1: кольцевой маршрут с конечной stop1.
image

Кольцевой маршрут, заданный остановками A, B, C, D, A
По сути первая версия описания маршрута эквивалентна stop1 > stop2 > ... > stopN-1 > stopN > stopN-1 > ... > stop2 > stop1.
На рисунке показаны шесть остановок: A, B, C, D, E, F и два автобусных маршрута: кольцевой A>C>D>B>A и обычный E-B-D-F.
image

Маршруты A>C>D>B>A и E-B-D-F
Ожидается что входящие данные гарантируют, что каждая из остановок маршрута определена в некотором запросе Stop, а сам маршрут X определён не более чем в одном запросе Bus.

Сложность методов и функций должна быть оптимальной:
чтение запроса производится за время O(N), где N — количество символов в нём,
добавление остановки и маршрута производится со сложностью амортизированная 
O(K) в среднем, где K — длина названия,
нахождение остановки или маршрута по их названию в среднем — амортизированная O(K), где K — длина названия,
получение информации о маршруте производится со сложностью амортизированная (1) O(1) в среднем.


Пример
Ввод
10
Stop Tolstopaltsevo: 55.611087, 37.208290
Stop Marushkino: 55.595884, 37.209755
Bus 256: Biryulyovo Zapadnoye > Biryusinka > Universam > Biryulyovo Tovarnaya > Biryulyovo Passazhirskaya > Biryulyovo Zapadnoye
Bus 750: Tolstopaltsevo - Marushkino - Rasskazovka
Stop Rasskazovka: 55.632761, 37.333324
Stop Biryulyovo Zapadnoye: 55.574371, 37.651700
Stop Biryusinka: 55.581065, 37.648390
Stop Universam: 55.587655, 37.645687
Stop Biryulyovo Tovarnaya: 55.592028, 37.653656
Stop Biryulyovo Passazhirskaya: 55.580999, 37.659164
3
Bus 256
Bus 750
Bus 751
 
Вывод
Bus 256: 6 stops on route, 5 unique stops, 4371.02 route length
Bus 750: 5 stops on route, 3 unique stops, 20939.5 route length
Bus 751: not found
 ----------------------------------------------------------_

Транспортный справочник. Часть B
Внесите изменения в версию кода из первого задания.
Изменения в формате запросов к базе данных
Stop X (новый запрос)
Запрос должен вывести информацию об остановке X в следующем формате:
Stop X: buses bus1 bus2 ... busN
bus1 bus2 ... busN — список автобусов, проходящих через остановку. Дубли не допускаются, названия должны быть отсортированы в алфавитном порядке.
Если остановка X не найдена, выведите Stop X: not found.
Если остановка X существует в базе, но через неё не проходят автобусы, выведите Stop X: no buses.
Добавьте в класс TransportCatalogue метод для получения списка автобусов по остановке.
Пример
Ввод
13
Stop Tolstopaltsevo: 55.611087, 37.20829
Stop Marushkino: 55.595884, 37.209755
Bus 256: Biryulyovo Zapadnoye > Biryusinka > Universam > Biryulyovo Tovarnaya > Biryulyovo Passazhirskaya > Biryulyovo Zapadnoye
Bus 750: Tolstopaltsevo - Marushkino - Rasskazovka
Stop Rasskazovka: 55.632761, 37.333324
Stop Biryulyovo Zapadnoye: 55.574371, 37.6517
Stop Biryusinka: 55.581065, 37.64839
Stop Universam: 55.587655, 37.645687
Stop Biryulyovo Tovarnaya: 55.592028, 37.653656
Stop Biryulyovo Passazhirskaya: 55.580999, 37.659164
Bus 828: Biryulyovo Zapadnoye > Universam > Rossoshanskaya ulitsa > Biryulyovo Zapadnoye
Stop Rossoshanskaya ulitsa: 55.595579, 37.605757
Stop Prazhskaya: 55.611678, 37.603831
6
Bus 256
Bus 750
Bus 751
Stop Samara
Stop Prazhskaya
Stop Biryulyovo Zapadnoye
 
Вывод
Bus 256: 6 stops on route, 5 unique stops, 4371.02 route length
Bus 750: 5 stops on route, 3 unique stops, 20939.5 route length
Bus 751: not found
Stop Samara: not found
Stop Prazhskaya: no buses
Stop Biryulyovo Zapadnoye: buses 256 828 
 ----------------------------------------------------------_
Задание 3
Транспортный справочник. Часть C
Внесите изменения во вторую версию кода.
В базе появляются данные о реальном — измеренном по дорогам — расстоянии между остановками.
Stop X (изменения запроса на добавление остановки)
Новый формат запроса на добавление остановки: Stop X: latitude, longitude, D1m to stop1, D2m to stop2, ...
Теперь после широты и долготы содержится список расстояний от этой остановки до соседних с ней остановок. Расстояния задаются в метрах. Предполагается, что расстояние от X до stop# равно расстоянию от stop# до X, если только расстояние от stop# до X не задано явно при добавлении остановки stop#.
Гарантируется, что каждая из остановок stop# определена в некотором запросе Stop.
В рамках одного запроса Stop все stop# различны, их количество не превосходит 100.
Все Di — целые положительные числа, каждое из которых не превышает 1000000 и не меньше расстояния по прямой между соответствующими остановками. Каждое число Di задаёт расстояние в метрах и завершается буквой m.
На рисунке показан маршрут A-B-C-D, в котором от остановки B до остановки С автобус идёт по прямой, а в обратном направлении — в объезд, например, из-за участка с односторонним движением.
image

Расстояние между остановками B и C различается в прямом и обратном направлении
Bus X (изменения запроса на информацию об автобусе)
Новый формат ответа на запрос информации об автобусе: Bus X: R stops on route, U unique stops, L route length, C curvature
L теперь вычисляется с использованием дорожного расстояния, а не географических координат.
С — извилистость, то есть отношение фактической длины маршрута к географическому расстоянию. Фактическая длина маршрута — это L. Географическое расстояние — это длина маршрута, которая вычислялась в предыдущих заданиях. Таким образом, C — вещественное число, большее единицы. Оно может быть равно единице только в том случае, если автобус едет между остановками по кратчайшему пути (и тогда больше похож на вертолёт). С может оказаться меньше единицы только благодаря телепортации или хордовым тоннелям.
image

Дорожное расстояние (показано сплошной линией) между остановками A и B больше географического расстояния (показано пунктиром). Извилистость этого отрезка пути больше единицы.
image

Дорожное расстояние между остановками A и B при движении через портал меньше географического расстояния (показано пунктиром). Извилистость этого отрезка пути меньше единицы
image

Кратчайшее расстояние по земной поверхности — географическое расстояние. При движении по хордовому тоннелю дорожное расстояние между остановками A и B меньше географического расстояния. Для хордового тоннеля извилистость меньше единицы
Гарантируется, что для любых двух соседних остановок любого маршрута задано дорожное расстояние. Расстояние между остановками A и B может быть как не равно, так и равно расстоянию между остановками B и A. В первом случае расстояние между остановками указывается дважды: в прямом и в обратном направлении. Когда расстояния одинаковы достаточно задать расстояние от A до B, либо расстояние от B до A. Также разрешается задать расстояние от остановки до самой себя — так бывает, если автобус разворачивается и приезжает на ту же остановку. Эта ситуация показана на рисунке ниже. Длина маршрута никогда не превосходит 10 000 000 метров.
image

Маршрут с ненулевым расстоянием от остановки A до самой себя
Добавьте в класс TransportCatalogue методы для выполнения следующих задач:
задание дистанции между остановками,
получение дистанции между остановками.
Пример
Ввод
13
Stop Tolstopaltsevo: 55.611087, 37.20829, 3900m to Marushkino
Stop Marushkino: 55.595884, 37.209755, 9900m to Rasskazovka, 100m to Marushkino
Bus 256: Biryulyovo Zapadnoye > Biryusinka > Universam > Biryulyovo Tovarnaya > Biryulyovo Passazhirskaya > Biryulyovo Zapadnoye
Bus 750: Tolstopaltsevo - Marushkino - Marushkino - Rasskazovka
Stop Rasskazovka: 55.632761, 37.333324, 9500m to Marushkino
Stop Biryulyovo Zapadnoye: 55.574371, 37.6517, 7500m to Rossoshanskaya ulitsa, 1800m to Biryusinka, 2400m to Universam
Stop Biryusinka: 55.581065, 37.64839, 750m to Universam
Stop Universam: 55.587655, 37.645687, 5600m to Rossoshanskaya ulitsa, 900m to Biryulyovo Tovarnaya
Stop Biryulyovo Tovarnaya: 55.592028, 37.653656, 1300m to Biryulyovo Passazhirskaya
Stop Biryulyovo Passazhirskaya: 55.580999, 37.659164, 1200m to Biryulyovo Zapadnoye
Bus 828: Biryulyovo Zapadnoye > Universam > Rossoshanskaya ulitsa > Biryulyovo Zapadnoye
Stop Rossoshanskaya ulitsa: 55.595579, 37.605757
Stop Prazhskaya: 55.611678, 37.603831
6
Bus 256
Bus 750
Bus 751
Stop Samara
Stop Prazhskaya
Stop Biryulyovo Zapadnoye 
Вывод
Bus 256: 6 stops on route, 5 unique stops, 5950 route length, 1.36124 curvature
Bus 750: 7 stops on route, 3 unique stops, 27400 route length, 1.30853 curvature
Bus 751: not found
Stop Samara: not found
Stop Prazhskaya: no buses
Stop Biryulyovo Zapadnoye: buses 256 828 
